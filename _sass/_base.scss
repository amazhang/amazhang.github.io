/**
 * Reset some basic elements
 */
body, h1, h2, h3, h4, h5, h6,
p, blockquote, pre, hr,
dl, dd, ol, ul, figure {
  margin: 0;
  padding: 0;
  line-height: 1.5em;
}

* {
  @include borderBox;
}

/**
 * Basic styling
 */
body {
  font: $base-font-weight #{$base-font-size}/#{$base-line-height} $serif-font;
  color: $text-color;
  background-color: $bgColor;
  -webkit-text-size-adjust: 100%;
  -webkit-font-feature-settings: "kern" 1;
  -moz-font-feature-settings: "kern" 1;
  -o-font-feature-settings: "kern" 1;
  font-feature-settings: "kern" 1;
  font-kerning: normal;
}

p {
  font-size: $base-font-size;
  color: $bodyColor;
}

/**
 * Set `margin-bottom` to maintain vertical rhythm
 */
blockquote, pre,
ol, dl, figure,
%vertical-rhythm {
  margin-bottom: $spacing-unit / 2;
}

/**
 * Images
 */
img {
  max-width: 100%;
  vertical-align: middle;
}

/**
 * Figures
 */
figure > img {
  display: block;
}

figcaption {
  font-size: $small-font-size;
}

/**
 * Lists
 */
ol {
  margin-left: $spacing-unit;
}
li {
  list-style: none;
}

/**
 * Headings
 */
h1, h2, h3, h4, h5, h6 {
  font-weight: $base-font-weight;
  font-size: 48px;
  @include antiAlias;
  color: $primary;
  line-height: 1.3em;
}

h2 { 
  font-size: 21px;
  font-weight: bold;
  letter-spacing: 1px;
}

h4 {
  font-size: 14px;
  letter-spacing: 1px;
}

/**
 * Links
 */
a {
  color: $linkColor;
  border-bottom: 1px dotted $linkColor;
  text-decoration: none;
  pointer-events: auto;
  @include prefix (transition, 0.3s ease-in-out);

  &:visited {
    color: $linkVisited;
    border-color: $linkVisited;
  }

  &:hover {
    color: $linkHover;
    border-color: $linkHover;
  }
}

/**
 * Blockquotes
 */
blockquote {
  color: $grey-color;
  border-left: 4px solid $grey-color-light;
  padding-left: $spacing-unit / 2;
  font-size: 18px;
  letter-spacing: -1px;
  font-style: italic;

  > :last-child {
    margin-bottom: 0;
  }
}

/**
 * Code formatting
 */
pre,
code {
  font-size: 15px;
  border: 1px solid $grey-color-light;
  border-radius: 3px;
  background-color: #eef;
}

code {
  padding: 1px 5px;
}

pre {
  padding: 8px 12px;
  overflow-x: auto;

  > code {
    border: 0;
    padding-right: 0;
    padding-left: 0;
  }
}


/**
 * Clearfix
 */
%clearfix {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}


/**
 * Icons
 */
.icon {
  > svg {
    display: inline-block;
    height: 16px;
    width: 16px;
    vertical-align: middle;

    path {
      fill: $grey-color;
    }
  }
}


.post-polaroid {
  background-color: #fff;
  border: 1px solid $grey-color-light;
  font-family: Handwritten;
  width: 90%;
  max-width: 750px;
  padding: $body-padding-sml*2 $body-padding-sml*2 0;
  position: relative;
  margin: $body-padding*2 auto;
  cursor: pointer;
  overflow: hidden;
  @include prefix (box-shadow, 0 5px 10px rgba($black, 0.1));
  @include prefix (transition, 0.3s $easing-curve);
  
  &:nth-child(5n+1) { @include prefix (transform, rotate(-1.3deg) ); }
  &:nth-child(5n+2) { @include prefix (transform, rotate(1.5deg) ); }
  &:nth-child(5n+3) { @include prefix (transform, rotate(-2.1deg) ); }
  &:nth-child(5n+4) { @include prefix (transform, rotate(0.75deg) ); }
  &:nth-child(5n+0) { @include prefix (transform, rotate(1.7deg) ); }
  
  &.still {
    .background{
      @include prefix (transform, scale(1.03));
      @include prefix (filter, grayscale(0));
    }
  }
  
  &:not(.still):hover{
    @include prefix (transform, rotate(0deg) scale(1.05));
    @include prefix (box-shadow, 0 10px 20px rgba($black, 0.07));
    
    .background {
      @include prefix (transform, scale(1.03));
      @include prefix (filter, grayscale(0));
    }
    
    .post-meta {
      opacity: 1;
    }
  }
  
  .post-wrap {
    width: 100%;
    height: 0;
    padding-bottom: 75%;
    position: relative;
    overflow: hidden;
  }
  
  .background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-size: cover;
    @include prefix (filter, grayscale(50%));
    @include prefix (transition, 0.5s $easing-curve);
  }
  
  .post-meta {
    color: $black;
    width: 100%;
    opacity: 0.8;
    padding: $body-padding-sml 0;
    @include prefix (transition, 0.3s $easing-curve);
    
    & > * {
      display: inline-block;
      vertical-align: middle;
    }
  }
  .title-blurb {
    @include calc (width, calc(100% - 95px));
    
    h2 {
      margin-bottom: 7px;
    }
    
    h4 {
      line-height: 1.6em;
    }
  }
  .date {
    text-transform: uppercase;
    line-height: 2.35em;
    padding-right: $body-padding-sml;
    margin-right: $body-padding-sml;
    position: relative;
    opacity: 0.8;
    // border-right: 1px solid rgba($black,0.2);
    
    &:after {
      content: "";
      width: 2px;
      height: 100%;
      position: absolute;
      right: 0;
      top: 0;
      background: url("../img/assets/handwritten-line.svg") center center no-repeat;
      background-size: cover;
    }
    
    .day {
      font-size: 24px;
      letter-spacing: 2px;
    }
    
    .month, .year {
      font-size: 10px;
      font-weight: 900;
    }
    
    .month {
      letter-spacing: 8px;
    }
    
    .year {
      letter-spacing: 4px;
    }
  }
}
